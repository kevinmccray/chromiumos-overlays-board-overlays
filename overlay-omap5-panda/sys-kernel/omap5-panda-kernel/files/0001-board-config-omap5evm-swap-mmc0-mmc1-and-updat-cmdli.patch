From 61251441de01ea4ce10dcca9ef0e04f7aabacca5 Mon Sep 17 00:00:00 2001
From: Kevin McCray <kevin.mccray@ti.com>
Date: Thu, 22 Mar 2012 13:15:38 -0700
Subject: [PATCH 1/4] board: config: omap5evm: swap mmc0/mmc1 and updat cmdline args

Signed-off-by: Kevin McCray <kevin.mccray@ti.com>
---
 arch/arm/configs/omap_5430evm_defconfig |    4 ++--
 arch/arm/mach-omap2/board-omap5evm.c    |   10 +++++-----
 2 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/arch/arm/configs/omap_5430evm_defconfig b/arch/arm/configs/omap_5430evm_defconfig
index 8ebcddb..8adfa88 100644
--- a/arch/arm/configs/omap_5430evm_defconfig
+++ b/arch/arm/configs/omap_5430evm_defconfig
@@ -42,7 +42,7 @@ CONFIG_PREEMPT=y
 CONFIG_HIGHMEM=y
 CONFIG_ZBOOT_ROM_TEXT=0x0
 CONFIG_ZBOOT_ROM_BSS=0x0
-CONFIG_CMDLINE="console=ttyO2,115200n8 root=/dev/mmcblk0p2 rootwait earlyprintk earlycon=ttyO2.115200n8"
+CONFIG_CMDLINE="console=ttyO2,115200n8 root=/dev/mmcblk0p3 rootwait earlyprintk earlycon=ttyO2.115200n8"
 CONFIG_CPU_FREQ=y
 CONFIG_CPU_FREQ_GOV_USERSPACE=y
 CONFIG_CPU_FREQ_GOV_ONDEMAND=y
@@ -189,8 +189,8 @@ CONFIG_THERMAL_FRAMEWORK=y
 CONFIG_OMAP_THERMAL=y
 CONFIG_OMAP_DIE_GOVERNOR=y
 CONFIG_OMAP_GPU_GOVERNOR=y
-CONFIG_HWSPINLOCK_OMAP=y
 CONFIG_DRM_OMAP_DCE=m
+CONFIG_HWSPINLOCK_OMAP=y
 CONFIG_OMAP_IOVMM=y
 CONFIG_OMAP_REMOTEPROC=y
 CONFIG_OMAP_REMOTEPROC_DSP=y
diff --git a/arch/arm/mach-omap2/board-omap5evm.c b/arch/arm/mach-omap2/board-omap5evm.c
index 568d6d4..30fe679 100644
--- a/arch/arm/mach-omap2/board-omap5evm.c
+++ b/arch/arm/mach-omap2/board-omap5evm.c
@@ -1316,7 +1316,7 @@ int __init omap5evm_touch_init(void)
 
 static struct omap2_hsmmc_info mmc[] = {
 	{
-		.mmc		= 2,
+		.mmc		= 1,
 		.caps		= MMC_CAP_4_BIT_DATA | MMC_CAP_8_BIT_DATA |
 					MMC_CAP_1_8V_DDR,
 		.gpio_cd	= -EINVAL,
@@ -1326,7 +1326,7 @@ static struct omap2_hsmmc_info mmc[] = {
 		.no_off_init	= true,
 	},
 	{
-		.mmc		= 1,
+		.mmc		= 2,
 		.caps		= MMC_CAP_4_BIT_DATA | MMC_CAP_UHS_SDR12 |
 					MMC_CAP_UHS_SDR25 | MMC_CAP_UHS_DDR50,
 		.gpio_cd	= 67,
@@ -1924,10 +1924,10 @@ static void __init omap_54xx_init(void)
 
 	omap5_mux_init(board_mux, NULL, OMAP_PACKAGE_CBL);
 
-	if (!strcmp(dt_selected_model, "TI OMAP5 uEVM"))
+	//if (!strcmp(dt_selected_model, "TI OMAP5 uEVM"))
 		omap_5432_uevm_init();
-	else
-		omap_5430_sevm_init();
+	//else
+	//	omap_5430_sevm_init();
 }
 
 
-- 
1.7.4.1

